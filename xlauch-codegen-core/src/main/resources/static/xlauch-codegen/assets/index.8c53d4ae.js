import{d as k,r as C,a as y,b as r,o as A,c as V,w as t,e,m as B,h as f,E as w,l as $,u as g,p as q}from"./index.04c0b6f4.js";import{u as x}from"./index.0bd84d72.js";import{u as z,a as L}from"./project.bc0ae134.js";import"./request.1b0b732d.js";const R=f("\u53D6\u6D88"),H=f("\u786E\u5B9A"),S=k({__name:"add-or-update",emits:["refreshDataList"],setup(N,{expose:d,emit:F}){const p=C(!1),m=C(),l=y({id:"",dbType:"",projectName:"",packageName:"",version:"",backendPath:"",frontendPath:"",author:""}),b=o=>{p.value=!0,l.id="",m.value&&m.value.resetFields(),o&&D(o)},D=o=>{z(o).then(u=>{Object.assign(l,u.data)})},E=C({dbType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],projectName:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],packageName:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],version:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],backendPath:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],frontendPath:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],author:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),_=()=>{m.value.validate(o=>{if(!o)return!1;L(l).then(()=>{w.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{p.value=!1,F("refreshDataList")}})})})};return d({init:b}),(o,u)=>{const i=r("el-input"),n=r("el-form-item"),h=r("el-form"),s=r("el-button"),v=r("el-dialog");return A(),V(v,{modelValue:p.value,"onUpdate:modelValue":u[10]||(u[10]=a=>p.value=a),title:l.id?"\u4FEE\u6539":"\u65B0\u589E","close-on-click-modal":!1},{footer:t(()=>[e(s,{onClick:u[8]||(u[8]=a=>p.value=!1)},{default:t(()=>[R]),_:1}),e(s,{type:"primary",onClick:u[9]||(u[9]=a=>_())},{default:t(()=>[H]),_:1})]),default:t(()=>[e(h,{ref_key:"dataFormRef",ref:m,model:l,rules:E.value,"label-width":"120px",onKeyup:u[7]||(u[7]=B(a=>_(),["enter"]))},{default:t(()=>[e(n,{label:"\u9879\u76EE\u540D\u79F0",prop:"projectName"},{default:t(()=>[e(i,{modelValue:l.projectName,"onUpdate:modelValue":u[0]||(u[0]=a=>l.projectName=a),placeholder:"\u9879\u76EE\u540D\u79F0\uFF0C\u5982\uFF1Axlauch"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5305\u540D",prop:"packageName"},{default:t(()=>[e(i,{modelValue:l.packageName,"onUpdate:modelValue":u[1]||(u[1]=a=>l.packageName=a),placeholder:"\u5305\u540D\uFF0C\u5982\uFF1Acom.xlauch"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u7248\u672C\u53F7",prop:"version"},{default:t(()=>[e(i,{modelValue:l.version,"onUpdate:modelValue":u[2]||(u[2]=a=>l.version=a),placeholder:"\u7248\u672C\u53F7"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u540E\u7AEF\u9879\u76EE\u8DEF\u5F84",prop:"backendPath"},{default:t(()=>[e(i,{modelValue:l.backendPath,"onUpdate:modelValue":u[3]||(u[3]=a=>l.backendPath=a),placeholder:"\u540E\u7AEF\u9879\u76EE\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u524D\u7AEF\u9879\u76EE\u8DEF\u5F84",prop:"frontendPath"},{default:t(()=>[e(i,{modelValue:l.frontendPath,"onUpdate:modelValue":u[4]||(u[4]=a=>l.frontendPath=a),placeholder:"\u524D\u7AEF\u9879\u76EE\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u4F5C\u8005",prop:"author"},{default:t(()=>[e(i,{modelValue:l.author,"onUpdate:modelValue":u[5]||(u[5]=a=>l.author=a),placeholder:"\u4F5C\u8005"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u90AE\u7BB1\u5730\u5740",prop:"email"},{default:t(()=>[e(i,{modelValue:l.email,"onUpdate:modelValue":u[6]||(u[6]=a=>l.email=a),placeholder:"\u90AE\u7BB1\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),O=f("\u67E5\u8BE2"),K=f("\u65B0\u589E"),T=f("\u5220\u9664"),M=f("\u7F16\u8F91"),G=f("\u5220\u9664"),X=k({__name:"index",setup(N){const d=y({dataListUrl:"/gen/project/page",deleteUrl:"/gen/project",queryForm:{projectName:""}}),F=C(),p=_=>{F.value.init(_)},{getDataList:m,selectionChangeHandle:l,sizeChangeHandle:b,currentChangeHandle:D,deleteBatchHandle:E}=x(d);return(_,o)=>{const u=r("el-input"),i=r("el-form-item"),n=r("el-button"),h=r("el-form"),s=r("el-table-column"),v=r("el-table"),a=r("el-pagination"),j=r("el-card"),U=$("loading");return A(),V(j,null,{default:t(()=>[e(h,{inline:!0,model:d.queryForm,onKeyup:o[4]||(o[4]=B(c=>g(m)(),["enter"]))},{default:t(()=>[e(i,null,{default:t(()=>[e(u,{modelValue:d.queryForm.projectName,"onUpdate:modelValue":o[0]||(o[0]=c=>d.queryForm.projectName=c),placeholder:"\u9879\u76EE\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(n,{onClick:o[1]||(o[1]=c=>g(m)())},{default:t(()=>[O]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(n,{type:"primary",onClick:o[2]||(o[2]=c=>p())},{default:t(()=>[K]),_:1})]),_:1}),e(i,null,{default:t(()=>[e(n,{type:"danger",onClick:o[3]||(o[3]=c=>g(E)())},{default:t(()=>[T]),_:1})]),_:1})]),_:1},8,["model"]),q((A(),V(v,{data:d.dataList,border:"",style:{width:"100%"},onSelectionChange:g(l)},{default:t(()=>[e(s,{type:"selection","header-align":"center",align:"center",width:"50"}),e(s,{prop:"projectName",label:"\u9879\u76EE\u540D\u79F0","header-align":"center",align:"center"}),e(s,{prop:"packageName",label:"\u5305\u540D","header-align":"center",align:"center"}),e(s,{prop:"version",label:"\u7248\u672C\u53F7","show-overflow-tooltip":"","header-align":"center",align:"center"}),e(s,{prop:"author",label:"\u4F5C\u8005","header-align":"center",align:"center"}),e(s,{prop:"email",label:"\u90AE\u7BB1\u5730\u5740","header-align":"center",align:"center"}),e(s,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"170"},{default:t(c=>[e(n,{type:"primary",link:"",onClick:P=>p(c.row.id)},{default:t(()=>[M]),_:2},1032,["onClick"]),e(n,{type:"primary",link:"",onClick:P=>g(E)(c.row.id)},{default:t(()=>[G]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[U,d.dataListLoading]]),e(a,{"current-page":d.page,"page-sizes":d.pageSizes,"page-size":d.limit,total:d.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:g(b),onCurrentChange:g(D)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"]),e(S,{ref_key:"addOrUpdateRef",ref:F,onRefreshDataList:g(m)},null,8,["onRefreshDataList"])]),_:1})}}});export{X as default};
